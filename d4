create database CUSTOMERS;
 USE CUSTOMERS;
CREATE TABLE CUSTOMERS ( 
ID INT PRIMARY KEY AUTO_INCREMENT, 
NAME VARCHAR(30),
AGE INT,
ADDRESS VARCHAR(30), 
SALARY DECIMAL(10, 2)
);
DROP TABLE CUSTOMERS;
INSERT INTO CUSTOMERS VALUES (1, 'Ajay', 50, 'Mysuru',50000.00);
INSERT INTO CUSTOMERS VALUES (2, 'Ram ', 45,'bangalore', 60000.00) ; 
INSERT INTO CUSTOMERS VALUES (3, 'hari', 24,'manipal', 10000.00) ;

SHOW TABLES;
DESC CUSTOMERS;
SELECT * 
FROM CUSTOMERS;

DELIMITER //
CREATE TRIGGER after_insert_salary_difference AFTER INSERT ON CUSTOMERS
FOR EACH ROW BEGIN
SET @my_sal_diff = CONCAT('salary inserted is ', NEW.SALARY); 
END;
//
DELIMITER ;
INSERT INTO CUSTOMERS VALUES (4, 'agasthya', 17,'mangalore', 15000.00);
SELECT @my_sal_diff as SALARY_INSERTED

DELIMITER //
CREATE TRIGGER after_update_salary_difference AFTER UPDATE ON CUSTOMERS
FOR EACH ROW BEGIN
DECLARE old_salary DECIMAL(10, 2); DECLARE new_salary DECIMAL(10, 2); SET old_salary = OLD.SALARY;
SET new_salary = NEW.SALARY;
SET @my_sal_diff = CONCAT('salary difference after update is ', NEW.SALARY - OLD.SALARY);
END;// 
DELIMITER ;
UPDATE CUSTOMERS SET SALARY=55000 WHERE ID=4;
SELECT @my_sal_diff AS salary_differnce

DELIMITER //
CREATE TRIGGER after_delete_salary 
AFTER DELETE ON CUSTOMERS
FOR EACH ROW BEGIN
SET @my_sal_diff = CONCAT('salary deleted is ', OLD.SALARY);
END;//
DELIMITER ;
DELETE FROM CUSTOMERS WHERE ID=1;
SELECT @my_sal_diff AS SAL_DIFF;DROP TABLE CUSTOMERS;
